// https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions#jobsjob_idstepsuses
export function parseActionReference(uses) {
    if (!uses || uses.startsWith("docker://") || uses.startsWith("./") || uses.startsWith(".\\")) {
        return undefined;
    }
    const [action, ref] = uses.split("@");
    const [owner, name, ...pathSegments] = action.split(/[\\/]/).filter(s => s.length > 0);
    if (!owner || !name) {
        return undefined;
    }
    if (pathSegments.length === 0) {
        return {
            owner,
            name,
            ref
        };
    }
    return {
        owner,
        name,
        ref,
        path: pathSegments.join("/")
    };
}
export function actionIdentifier(ref) {
    if (ref.path) {
        return `${ref.owner}/${ref.name}/${ref.ref}/${ref.path}`;
    }
    return `${ref.owner}/${ref.name}/${ref.ref}`;
}
export function actionUrl(actionRef) {
    // TODO: Support base uri for GHES
    const gitHubBaseUri = "https://www.github.com/";
    return `${gitHubBaseUri}${actionRef.owner}/${actionRef.name}/tree/${actionRef.ref}/${actionRef.path || ""}`;
}
//# sourceMappingURL=action.js.map