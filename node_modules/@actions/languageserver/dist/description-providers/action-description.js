import { actionUrl, parseActionReference } from "@actions/languageservice/action";
import { isActionStep } from "@actions/workflow-parser/model/type-guards";
import { fetchActionMetadata } from "../utils/action-metadata";
export async function getActionDescription(client, cache, step) {
    if (!isActionStep(step)) {
        return undefined;
    }
    const action = parseActionReference(step.uses.value);
    if (!action) {
        return undefined;
    }
    const metadata = await fetchActionMetadata(client, cache, action);
    if (!metadata?.name || !metadata?.description) {
        return undefined;
    }
    return `[**${metadata.name}**](${actionUrl(action)})\n\n${metadata.description}`;
}
//# sourceMappingURL=action-description.js.map